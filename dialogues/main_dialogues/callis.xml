<DialogueTree xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://raw.githubusercontent.com/xen-42/outer-wilds-new-horizons/main/NewHorizons/Schemas/dialogue_schema.xsd">
	<NameField>$CALLISTHESIS_CALLIS_NAME</NameField>

	<!-- ENTRY NODES-->
	<DialogueNode><Name>START_DEFAULT</Name>
		<EntryCondition>DEFAULT</EntryCondition>

		<Dialogue><Page>$CALLISTHESIS_CALLIS_DEFAULT</Page></Dialogue>

		<DialogueOptionsList>
			<DialogueOption>
				<Text>$CALLISTHESIS_CALLIS_DEFAULT_CHOICE_HI</Text>
				<DialogueTarget>INITIAL_1</DialogueTarget>
			</DialogueOption>
			<DialogueOption>
				<RequiredLogCondition>CALLISTHESIS_SHIPLOG_THESIS_DOWNLOADED</RequiredLogCondition>
				<Text>$CALLISTHESIS_CALLIS_DEFAULT_CHOICE_THESIS</Text>
				<DialogueTarget>ENDING_FAST</DialogueTarget>
			</DialogueOption>
		</DialogueOptionsList>
	</DialogueNode>

	<DialogueNode><Name>START_POSTINITIAL</Name>
		<EntryCondition>CALLISTHESIS_CONDITION_CALLIS_INITIAL_EXPLANATION</EntryCondition>
		
		<Dialogue><Page>$CALLISTHESIS_CALLIS_POSTINITIAL</Page></Dialogue>

		<DialogueOptionsList>
			<DialogueOption>
				<RequiredLogCondition>CALLISTHESIS_SHIPLOG_THESIS_DOWNLOADED</RequiredLogCondition>
				<Text>$CALLISTHESIS_CALLIS_POSTINITIAL_CHOICE_THESIS</Text>
				<DialogueTarget>ENDING_BASE</DialogueTarget>
			</DialogueOption>
			<DialogueOption>
				<Text>$CALLISTHESIS_CALLIS_POSTINITIAL_CHOICE_NO</Text>
				<DialogueTarget>ENDDIALOGUE</DialogueTarget>
			</DialogueOption>
			<DialogueOption>
				<RequiredLogCondition>CALLISTHESIS_SHIPLOG_PASSWORD_FACT</RequiredLogCondition>
				<Text>$CALLISTHESIS_CALLIS_POSTINITIAL_CHOICE_PASSWORD</Text>
				<DialogueTarget>PASSWORD_1</DialogueTarget>
			</DialogueOption>
			<DialogueOption>
				<Text>$CALLISTHESIS_CALLIS_POSTINITIAL_CHOICE_REM</Text>
				<DialogueTarget>INITIAL_REM</DialogueTarget>
			</DialogueOption>
		</DialogueOptionsList>
	</DialogueNode>
	
	<DialogueNode><Name>START_POSTPASSWORD</Name>
		<EntryCondition>CALLISTHESIS_CONDITION_PASSWORD_CLUES_GIVEN</EntryCondition>
		
		<Dialogue><Page>$CALLISTHESIS_CALLIS_POSTPASSWORD</Page></Dialogue>

		<DialogueOptionsList>
			<DialogueOption>
				<RequiredLogCondition>CALLISTHESIS_SHIPLOG_THESIS_DOWNLOADED</RequiredLogCondition>
				<Text>$CALLISTHESIS_CALLIS_POSTPASSWORD_CHOICE_THESIS</Text>
				<DialogueTarget>ENDING_SLOW_1</DialogueTarget>
			</DialogueOption>
			<DialogueOption>
				<Text>$CALLISTHESIS_CALLIS_POSTPASSWORD_CHOICE_NO</Text>
				<DialogueTarget>ENDDIALOGUE</DialogueTarget>
			</DialogueOption>
			<DialogueOption>
				<Text>$CALLISTHESIS_CALLIS_POSTPASSWORD_CHOICE_PASSWORDREM</Text>
				<DialogueTarget>PASSWORD_REM</DialogueTarget>
			</DialogueOption>
			<DialogueOption>
				<Text>$CALLISTHESIS_CALLIS_POSTPASSWORD_CHOICE_REM</Text>
				<DialogueTarget>INITIAL_REM</DialogueTarget>
			</DialogueOption>
		</DialogueOptionsList>
	</DialogueNode>


	<!-- CALLIS_INITIAL_EXPLANATION NODES-->
	<!-- Linear from INITIAL_1 to INITIAL_3-->
	<DialogueNode><Name>INITIAL_1</Name>
		<Dialogue><Page>$CALLISTHESIS_CALLIS_INITIAL_1</Page></Dialogue>
		<DialogueOptionsList><DialogueOption>
			<Text>$CALLISTHESIS_CALLIS_INITIAL_1_REPLY</Text>
			<DialogueTarget>INITIAL_2</DialogueTarget>
		</DialogueOption></DialogueOptionsList>
	</DialogueNode>
	
	<DialogueNode><Name>INITIAL_2</Name>
		<Dialogue><Page>$CALLISTHESIS_CALLIS_INITIAL_2</Page></Dialogue>
		<DialogueOptionsList><DialogueOption>
			<Text>$CALLISTHESIS_CALLIS_INITIAL_2_REPLY</Text>
			<DialogueTarget>INITIAL_3</DialogueTarget>
		</DialogueOption></DialogueOptionsList>
	</DialogueNode>
	
	<DialogueNode><Name>INITIAL_3</Name>
		<Dialogue><Page>$CALLISTHESIS_CALLIS_INITIAL_3</Page></Dialogue>

		<DialogueOptionsList>
			<DialogueOption>
				<Text>$CALLISTHESIS_CALLIS_INITIAL_3_CHOICE_HELP</Text>
				<DialogueTarget>INITIAL_4</DialogueTarget>
			</DialogueOption>
			<DialogueOption>
				<Text>$CALLISTHESIS_CALLIS_INITIAL_3_CHOICE_LEAVE</Text>
				<ConditionToSet>CALLISTHESIS_CONDITION_REFUSED_TO_PLAY_MOD</ConditionToSet>
			</DialogueOption>
		</DialogueOptionsList>
	</DialogueNode>
	
	<!-- Almost-linear from INITIAL_4 to INITIAL_6-->
	<DialogueNode><Name>INITIAL_4</Name>
		<Dialogue>
			<Page>$CALLISTHESIS_CALLIS_INITIAL_4_1</Page>
			<Page>$CALLISTHESIS_CALLIS_INITIAL_4_2</Page>
			<Page>$CALLISTHESIS_CALLIS_INITIAL_4_3</Page>
		</Dialogue>

		<DialogueOptionsList>
			<DialogueOption>
				<Text>$CALLISTHESIS_CALLIS_INITIAL_4_CHOICE_POS</Text>
				<DialogueTarget>INITIAL_6</DialogueTarget>
			</DialogueOption>
			<DialogueOption>
				<Text>$CALLISTHESIS_CALLIS_INITIAL_4_CHOICE_NEG</Text>
				<DialogueTarget>INITIAL_5</DialogueTarget>
			</DialogueOption>
		</DialogueOptionsList>
	</DialogueNode>
	
	<DialogueNode><Name>INITIAL_5</Name>
		<Dialogue><Page>$CALLISTHESIS_CALLIS_INITIAL_5</Page></Dialogue>
		<DialogueOptionsList><DialogueOption>
			<Text>$CALLISTHESIS_CALLIS_INITIAL_5_REPLY</Text>
			<DialogueTarget>INITIAL_6</DialogueTarget>
		</DialogueOption></DialogueOptionsList>
	</DialogueNode>
	
	<DialogueNode><Name>INITIAL_6</Name>
		<Dialogue><Page>$CALLISTHESIS_CALLIS_INITIAL_6</Page></Dialogue>
		<DialogueOptionsList><DialogueOption>
			<Text>$CALLISTHESIS_CALLIS_INITIAL_6_REPLY</Text>
			<DialogueTarget>ENDDIALOGUE</DialogueTarget>
		</DialogueOption></DialogueOptionsList>

		<RevealFacts>
			<FactID>CALLISTHESIS_SHIPLOG_ARCHIVES_RUMOR</FactID>
			<FactID>CALLISTHESIS_SHIPLOG_THESIS_RUMOR</FactID>
			<FactID>CALLISTHESIS_SHIPLOG_FESTIVAL_EXPLORE_CALLIS</FactID>
		</RevealFacts>
		<SetCondition>CALLISTHESIS_CONDITION_CALLIS_INITIAL_EXPLANATION</SetCondition>
		<SetPersistentCondition>CALLISTHESIS_PERSCONDITION_REMOVE_DOORBLOCKERS</SetPersistentCondition>
	</DialogueNode>
	
	<!-- Reminder is about the same as INITIAL_6 -->
	<DialogueNode><Name>INITIAL_REM</Name>
		<Dialogue><Page>$CALLISTHESIS_CALLIS_INITIAL_REM</Page></Dialogue>
		<DialogueOptionsList><DialogueOption>
			<Text>$CALLISTHESIS_CALLIS_INITIAL_REM_REPLY</Text>
			<DialogueTarget>ENDDIALOGUE</DialogueTarget>
		</DialogueOption></DialogueOptionsList>
	</DialogueNode>

	<!-- CALLIS_PASSWORD NODES-->
	<!-- Linear from PASSWORD_1 to PASSWORD_7-->
	<DialogueNode><Name>PASSWORD_1</Name>
		<Dialogue><Page>$CALLISTHESIS_CALLIS_PASSWORD_1</Page></Dialogue>
		<DialogueOptionsList><DialogueOption>
			<Text>$CALLISTHESIS_CALLIS_PASSWORD_1_REPLY</Text>
			<DialogueTarget>PASSWORD_2</DialogueTarget>
		</DialogueOption></DialogueOptionsList>
	</DialogueNode>

	<DialogueNode><Name>PASSWORD_2</Name>
		<Dialogue>
			<Page>$CALLISTHESIS_CALLIS_PASSWORD_2_1</Page>
			<Page>$CALLISTHESIS_CALLIS_PASSWORD_2_2</Page>
		</Dialogue>
		<DialogueOptionsList><DialogueOption>
			<Text>$CALLISTHESIS_CALLIS_PASSWORD_2_REPLY</Text>
			<DialogueTarget>PASSWORD_3</DialogueTarget>
		</DialogueOption></DialogueOptionsList>
	</DialogueNode>

	<DialogueNode><Name>PASSWORD_3</Name>
		<Dialogue>
			<Page>$CALLISTHESIS_CALLIS_PASSWORD_3_1</Page>
			<Page>$CALLISTHESIS_CALLIS_PASSWORD_3_2</Page>
			<Page>$CALLISTHESIS_CALLIS_PASSWORD_3_3</Page>
			<Page>$CALLISTHESIS_CALLIS_PASSWORD_3_4</Page>
			<Page>$CALLISTHESIS_CALLIS_PASSWORD_3_5</Page>
		</Dialogue>
		<DialogueOptionsList><DialogueOption>
			<Text>$CALLISTHESIS_CALLIS_PASSWORD_3_REPLY</Text>
			<DialogueTarget>PASSWORD_4</DialogueTarget>
		</DialogueOption></DialogueOptionsList>
	</DialogueNode>

	<DialogueNode><Name>PASSWORD_4</Name>
		<Dialogue>
			<Page>$CALLISTHESIS_CALLIS_PASSWORD_4_1</Page>
			<Page>$CALLISTHESIS_CALLIS_PASSWORD_4_2</Page>
		</Dialogue>
		<DialogueOptionsList><DialogueOption>
			<Text>$CALLISTHESIS_CALLIS_PASSWORD_4_REPLY</Text>
			<DialogueTarget>PASSWORD_5</DialogueTarget>
		</DialogueOption></DialogueOptionsList>
	</DialogueNode>

	<DialogueNode><Name>PASSWORD_5</Name>
		<Dialogue><Page>$CALLISTHESIS_CALLIS_PASSWORD_5</Page></Dialogue>
		<DialogueOptionsList><DialogueOption>
			<Text>$CALLISTHESIS_CALLIS_PASSWORD_5_REPLY</Text>
			<DialogueTarget>PASSWORD_6</DialogueTarget>
		</DialogueOption></DialogueOptionsList>
	</DialogueNode>

	<DialogueNode><Name>PASSWORD_6</Name>
		<Dialogue><Page>$CALLISTHESIS_CALLIS_PASSWORD_6</Page></Dialogue>
		<DialogueOptionsList><DialogueOption>
			<Text>$CALLISTHESIS_CALLIS_PASSWORD_6_REPLY</Text>
			<DialogueTarget>PASSWORD_7</DialogueTarget>
		</DialogueOption></DialogueOptionsList>
	</DialogueNode>

	<DialogueNode><Name>PASSWORD_7</Name>
		<Dialogue><Page>$CALLISTHESIS_CALLIS_PASSWORD_7</Page></Dialogue>
		<DialogueOptionsList>
			<DialogueOption>
				<Text>$CALLISTHESIS_CALLIS_PASSWORD_7_CHOICE_POS</Text>
			</DialogueOption>
			<DialogueOption>
				<Text>$CALLISTHESIS_CALLIS_PASSWORD_7_CHOICE_NEG</Text>
			</DialogueOption>
		</DialogueOptionsList>

		<RevealFacts>
			<FactID>CALLISTHESIS_SHIPLOG_PASSWORD_CLUES</FactID>
			<FactID>CALLISTHESIS_SHIPLOG_PASSWORD_PART_1_ANSWER</FactID>
			<FactID>CALLISTHESIS_SHIPLOG_PASSWORD_PART_2_CLUE</FactID>
			<FactID>CALLISTHESIS_SHIPLOG_PASSWORD_PART_3_CLUE</FactID>
			<FactID>CALLISTHESIS_SHIPLOG_BUKRAD_RUMOR_2</FactID>
		</RevealFacts>
		<SetCondition>CALLISTHESIS_CONDITION_PASSWORD_CLUES_GIVEN</SetCondition>
		<SetPersistentCondition>CALLISTHESIS_PERSCONDITION_PASSWORD_PART_2_CLUE</SetPersistentCondition>
	</DialogueNode>

	<DialogueNode><Name>PASSWORD_REM</Name>
		<Dialogue>
			<Page>$CALLISTHESIS_CALLIS_PASSWORD_REM_1</Page>
			<Page>$CALLISTHESIS_CALLIS_PASSWORD_REM_2</Page>
			<Page>$CALLISTHESIS_CALLIS_PASSWORD_REM_3</Page>
			<Page>$CALLISTHESIS_CALLIS_PASSWORD_REM_4</Page>
		</Dialogue>
		<DialogueOptionsList><DialogueOption>
			<Text>$CALLISTHESIS_CALLIS_PASSWORD_REM_REPLY</Text>
		</DialogueOption></DialogueOptionsList>
	</DialogueNode>

	<!-- CALLIS_END_DIALOGUE NODES-->
	<DialogueNode><Name>ENDDIALOGUE</Name>
		<Dialogue><Page>$CALLISTHESIS_CALLIS_ENDDIALOGUE</Page></Dialogue>
	</DialogueNode>

	<!-- ENDING NODES-->
	<DialogueNode><Name>ENDING_FAST</Name>
		<Dialogue><Page>$CALLISTHESIS_CALLIS_ENDING_FAST</Page></Dialogue>
		<DialogueTarget>ENDING_BASE</DialogueTarget>
	</DialogueNode>

	<DialogueNode><Name>ENDING_SLOW_1</Name>
		<Dialogue><Page>$CALLISTHESIS_CALLIS_ENDING_SLOW_1</Page></Dialogue>
		<DialogueOptionsList>
			<DialogueOption>
				<Text>$CALLISTHESIS_CALLIS_ENDING_SLOW_1_CHOICE_POS</Text>
				<DialogueTarget>ENDING_BASE</DialogueTarget>
			</DialogueOption>
			<DialogueOption>
				<Text>$CALLISTHESIS_CALLIS_ENDING_SLOW_1_CHOICE_NEG</Text>
				<DialogueTarget>ENDING_SLOW_2</DialogueTarget>
			</DialogueOption>
		</DialogueOptionsList>
	</DialogueNode>

	<DialogueNode><Name>ENDING_SLOW_2</Name>
		<Dialogue><Page>$CALLISTHESIS_CALLIS_ENDING_SLOW_2</Page></Dialogue>
		<DialogueTarget>ENDING_BASE</DialogueTarget>
	</DialogueNode>
	
	<DialogueNode><Name>ENDING_BASE</Name>
		<Dialogue><Page>$CALLISTHESIS_CALLIS_ENDING_BASE</Page></Dialogue>
		<SetCondition>CALLISTHESIS_CONDITION_FINISHED_MOD</SetCondition>
	</DialogueNode>
</DialogueTree>